{"filter":false,"title":"flask-deployment.yaml","tooltip":"/configs/flask-deployment.yaml","undoManager":{"mark":24,"position":24,"stack":[[{"start":{"row":0,"column":0},"end":{"row":89,"column":40},"action":"insert","lines":["flask-deployment","----------","apiVersion: apps/v1","kind: Deployment","metadata:","  name: flask-deployment","  namespace: fp","spec:","  replicas: 1","  selector:","    matchLabels:","      app: flask-app","  template:","    metadata:","      labels:","        app: flask-app","    spec:","      serviceAccountName: clo835-sa","      imagePullSecrets:","      - name: ecr-secret","      containers:","      - name: flask-app","        image: 334981590411.dkr.ecr.us-east-1.amazonaws.com/clo835-suways-webapp:latest","        ports:","        - containerPort: 81","        env:","        # Database configuration","        - name: DBHOST","          valueFrom:","            configMapKeyRef:","              name: flask-config","              key: DBHOST","        - name: DBUSER","          valueFrom:","            secretKeyRef:","              name: mysql-secret","              key: DBUSER","        - name: DBPWD","          valueFrom:","            secretKeyRef:","              name: mysql-secret","              key: DBPWD","        - name: DATABASE","          valueFrom:","            configMapKeyRef:","              name: flask-config","              key: DATABASE","        - name: DBPORT","          valueFrom:","            configMapKeyRef:","              name: flask-config","              key: DBPORT","        # Application configuration from ConfigMap","        - name: GROUP_NAME","          valueFrom:","            configMapKeyRef:","              name: flask-config","              key: GROUP_NAME","        - name: GROUP_SLOGAN","          valueFrom:","            configMapKeyRef:","              name: flask-config","              key: GROUP_SLOGAN","        # S3 background image configuration","        - name: BG_BUCKET","          valueFrom:","            configMapKeyRef:","              name: flask-config","              key: BG_BUCKET","        - name: BG_KEY","          valueFrom:","            configMapKeyRef:","              name: flask-config","              key: BG_KEY","        - name: AWS_REGION","          valueFrom:","            configMapKeyRef:","              name: flask-config","              key: AWS_REGION","        # AWS credentials from Secret","        - name: AWS_ACCESS_KEY_ID","          valueFrom:","            secretKeyRef:","              name: aws-secret","              key: AWS_ACCESS_KEY_ID","        - name: AWS_SECRET_ACCESS_KEY","          valueFrom:","            secretKeyRef:","              name: aws-secret","              key: AWS_SECRET_ACCESS_KEY"],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":10},"action":"remove","lines":["flask-deployment","----------"],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":0},"action":"remove","lines":["",""],"id":3}],[{"start":{"row":81,"column":30},"end":{"row":81,"column":31},"action":"insert","lines":["s"],"id":4}],[{"start":{"row":86,"column":30},"end":{"row":86,"column":31},"action":"insert","lines":["s"],"id":5}],[{"start":{"row":86,"column":30},"end":{"row":86,"column":31},"action":"remove","lines":["s"],"id":6}],[{"start":{"row":81,"column":30},"end":{"row":81,"column":31},"action":"remove","lines":["s"],"id":7}],[{"start":{"row":87,"column":40},"end":{"row":88,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":88,"column":0},"end":{"row":88,"column":14},"action":"insert","lines":["              "]}],[{"start":{"row":88,"column":14},"end":{"row":92,"column":39},"action":"insert","lines":["•⁠  ⁠name: BACKGROUND_IMAGE_URL","          valueFrom:","            configMapKeyRef:","              name: flask-config","              key: BACKGROUND_IMAGE_URL"],"id":9}],[{"start":{"row":88,"column":16},"end":{"row":88,"column":18},"action":"remove","lines":["  "],"id":10},{"start":{"row":88,"column":15},"end":{"row":88,"column":16},"action":"remove","lines":["⁠"]},{"start":{"row":88,"column":14},"end":{"row":88,"column":15},"action":"remove","lines":["•"]},{"start":{"row":88,"column":12},"end":{"row":88,"column":14},"action":"remove","lines":["  "]},{"start":{"row":88,"column":10},"end":{"row":88,"column":12},"action":"remove","lines":["  "]},{"start":{"row":88,"column":8},"end":{"row":88,"column":10},"action":"remove","lines":["  "]}],[{"start":{"row":88,"column":8},"end":{"row":88,"column":9},"action":"insert","lines":["-"],"id":11}],[{"start":{"row":88,"column":6},"end":{"row":88,"column":8},"action":"remove","lines":["  "],"id":12},{"start":{"row":88,"column":4},"end":{"row":88,"column":6},"action":"remove","lines":["  "]},{"start":{"row":88,"column":2},"end":{"row":88,"column":4},"action":"remove","lines":["  "]},{"start":{"row":88,"column":0},"end":{"row":88,"column":2},"action":"remove","lines":["  "]},{"start":{"row":87,"column":40},"end":{"row":88,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":87,"column":40},"end":{"row":88,"column":0},"action":"insert","lines":["",""],"id":13},{"start":{"row":88,"column":0},"end":{"row":88,"column":14},"action":"insert","lines":["              "]}],[{"start":{"row":88,"column":12},"end":{"row":88,"column":14},"action":"remove","lines":["  "],"id":14},{"start":{"row":88,"column":10},"end":{"row":88,"column":12},"action":"remove","lines":["  "]},{"start":{"row":88,"column":8},"end":{"row":88,"column":10},"action":"remove","lines":["  "]}],[{"start":{"row":88,"column":9},"end":{"row":88,"column":10},"action":"remove","lines":["⁠"],"id":15}],[{"start":{"row":88,"column":9},"end":{"row":88,"column":10},"action":"insert","lines":[" "],"id":16}],[{"start":{"row":66,"column":28},"end":{"row":67,"column":0},"action":"insert","lines":["",""],"id":17},{"start":{"row":67,"column":0},"end":{"row":67,"column":14},"action":"insert","lines":["              "]},{"start":{"row":67,"column":14},"end":{"row":68,"column":0},"action":"insert","lines":["",""]},{"start":{"row":68,"column":0},"end":{"row":68,"column":14},"action":"insert","lines":["              "]}],[{"start":{"row":68,"column":12},"end":{"row":68,"column":14},"action":"remove","lines":["  "],"id":18},{"start":{"row":68,"column":10},"end":{"row":68,"column":12},"action":"remove","lines":["  "]},{"start":{"row":68,"column":8},"end":{"row":68,"column":10},"action":"remove","lines":["  "]}],[{"start":{"row":68,"column":8},"end":{"row":72,"column":28},"action":"insert","lines":["        - name: BG_BUCKET","          valueFrom:","            configMapKeyRef:","              name: flask-config","              key: BG_BUCKET"],"id":19}],[{"start":{"row":68,"column":14},"end":{"row":68,"column":16},"action":"remove","lines":["  "],"id":20},{"start":{"row":68,"column":12},"end":{"row":68,"column":14},"action":"remove","lines":["  "]},{"start":{"row":68,"column":10},"end":{"row":68,"column":12},"action":"remove","lines":["  "]},{"start":{"row":68,"column":8},"end":{"row":68,"column":10},"action":"remove","lines":["  "]}],[{"start":{"row":68,"column":24},"end":{"row":68,"column":25},"action":"remove","lines":["T"],"id":21},{"start":{"row":68,"column":23},"end":{"row":68,"column":24},"action":"remove","lines":["E"]},{"start":{"row":68,"column":22},"end":{"row":68,"column":23},"action":"remove","lines":["K"]},{"start":{"row":68,"column":21},"end":{"row":68,"column":22},"action":"remove","lines":["C"]},{"start":{"row":68,"column":20},"end":{"row":68,"column":21},"action":"remove","lines":["U"]},{"start":{"row":68,"column":19},"end":{"row":68,"column":20},"action":"remove","lines":["B"]},{"start":{"row":68,"column":18},"end":{"row":68,"column":19},"action":"remove","lines":["_"]},{"start":{"row":68,"column":17},"end":{"row":68,"column":18},"action":"remove","lines":["G"]},{"start":{"row":68,"column":16},"end":{"row":68,"column":17},"action":"remove","lines":["B"]}],[{"start":{"row":68,"column":16},"end":{"row":68,"column":30},"action":"insert","lines":["background_url"],"id":22}],[{"start":{"row":72,"column":19},"end":{"row":72,"column":28},"action":"remove","lines":["BG_BUCKET"],"id":23},{"start":{"row":72,"column":19},"end":{"row":72,"column":33},"action":"insert","lines":["background_url"]}],[{"start":{"row":67,"column":12},"end":{"row":67,"column":14},"action":"remove","lines":["  "],"id":24},{"start":{"row":67,"column":10},"end":{"row":67,"column":12},"action":"remove","lines":["  "]},{"start":{"row":67,"column":8},"end":{"row":67,"column":10},"action":"remove","lines":["  "]},{"start":{"row":67,"column":6},"end":{"row":67,"column":8},"action":"remove","lines":["  "]},{"start":{"row":67,"column":4},"end":{"row":67,"column":6},"action":"remove","lines":["  "]},{"start":{"row":67,"column":2},"end":{"row":67,"column":4},"action":"remove","lines":["  "]},{"start":{"row":67,"column":0},"end":{"row":67,"column":2},"action":"remove","lines":["  "]},{"start":{"row":66,"column":28},"end":{"row":67,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":93,"column":0},"end":{"row":97,"column":39},"action":"remove","lines":["        - name: BACKGROUND_IMAGE_URL","          valueFrom:","            configMapKeyRef:","              name: flask-config","              key: BACKGROUND_IMAGE_URL"],"id":25},{"start":{"row":92,"column":40},"end":{"row":93,"column":0},"action":"remove","lines":["",""]}]]},"ace":{"folds":[],"scrolltop":1104.5,"scrollleft":0,"selection":{"start":{"row":92,"column":40},"end":{"row":92,"column":40},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":68,"state":"start","mode":"ace/mode/yaml"}},"timestamp":1755030715421,"hash":"7355e034faafeaf8cb8ccbc6068ee20fa2d483b6"}